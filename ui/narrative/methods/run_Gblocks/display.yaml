#
# define display information
#
name: Gblocks
tooltip: |
    Trim a Multiple Sequence Alignment (MSA) to remove hypervariable (gappy) regions with Gblocks
screenshots: []

icon: gblocks-cyan.png

#
# define a set of similar methods that might be useful to the user
#
suggestions:
    apps:
        related:
            []
        next:
            []
    methods:
        related:
            []
        next:
            []

#
# Configure the display and description of parameters
#
parameters :
    desc:
        ui-name : |
            MSA Description
        short-hint : |
            Describe Contents of the Output MSA
        placeholder: |
            Enter Description
    input_name:
        ui-name : |
            Input MSA
        short-hint : |
            Multiple Sequence Alignment to trim.  Data type is MSA.
    output_name:
        ui-name : |
            Output Tree
        short-hint : |
            Phylogenetic Tree output.  Data type is Tree.
    trim_level:
        ui-name : |
            Trim Level
        short-hint : |
            0=No gaps permitted, 1=Half occupancy, 2=Gaps ignored
    min_seqs_for_conserved:
        ui-name : |
            Min Seqs for Conserved Pos
        short-hint : |
            Minimum number of sequences required with a conserved residue before a position (column) is considered a "Conserved Position"; 0=Use MSA-derived default (e.g. for 14 seqs, default is 8).  Value must be >= than N/2+1 and <= Min Seqs For Flank Pos.
    min_seqs_for_flank:
        ui-name : |
            Min Seqs for Flank Pos
        short-hint : |
            Minimum number of sequences required with a residue in a position (column) flanking a conserved position before being considered a "Flank Position"; 0=Use MSA-derived default (e.g. for 14 seqs, default is 11).  Value must be >= Min Seqs for Conserved Pos and <= N.
    max_pos_contig_nonconserved:
        ui-name : |
            Max Num Non-Conserved Pos
        short-hint : |
            Maximum number of non-conserved positions (columns) that may be included in a block; 8=default.  Value must be >= 0 and < 32000.
    min_block_len:
        ui-name : |
            Min Block Len
        short-hint : |
            Minimum number of positions (columns) required to include a block in the output MSA; 10=default.  Value must be >= 2 and < 32000.
    remove_mask_positions_flag:
        ui-name : |
            Remove Masked Pos?
        short-hint : |
            If first row of MSA has "X" masking characters, remove those positions (columns) from output MSA; Usually used for hypervariable regions (e.g. 16S); OFF=default.

description : |
    <p>This method trims Multiple Sequence Alignments (MSAs) to capture the conserved blocks that may be more reliable regions from which to compare evolutionary rates, such as for tree building.  It uses the method Gblocks.</p>
    <p>Gblocks 0.91b from http://molevol.cmima.csic.es/castresana/Gblocks.html</p>
    <p>Please cite:</p>
    <p><A HREF="http://sysbio.oxfordjournals.org/content/56/4/564.long">Talavera G1, Castresana J. (2007) Improvement of phylogenies after removing divergent and ambiguously aligned blocks from protein sequence alignments. Syst Biol. 2007 Aug;56(4):564-77.</A> doi:10.1080/10635150701472164</p>
    <p><A HREF="http://mbe.oxfordjournals.org/content/17/4/540.long">Castresana J. (2000) Selection of conserved blocks from multiple alignments for their use in phylogenetic analysis. Mol Biol Evol. 2000 Apr;17(4):540-52.</A> PMID: 10742046</p>
